---
import Layout from "../../components/Layout.astro";
import ServicePage from "../../components/ServicePage.astro";
import { SITE } from "../../data/site";
import { getServiceStaticPaths, type ServiceData } from "../../lib/services";

export async function getStaticPaths() {
  return await getServiceStaticPaths();
}

const { service } = Astro.props as { service: ServiceData };

const pageTitle = service.meta.title ?? `${service.title} â€” ${SITE.name}`;
const description = service.meta.description ?? service.excerpt;
const ogImage = service.meta.ogImage ?? service.heroImage?.src ?? service.gallery[0]?.src;
const jsonLd = service.jsonLd ? [service.jsonLd] : [];
---
<Layout title={pageTitle} description={description} ogImage={ogImage} jsonLd={jsonLd}>
  <ServicePage
    slug={service.slug}
    title={service.title}
    excerpt={service.excerpt}
    heroImage={service.heroImage}
    heroCtas={service.heroCtas}
    mainCard={service.mainCard}
    extraCards={service.extraCards}
    gallery={service.gallery}
  />
</Layout>
