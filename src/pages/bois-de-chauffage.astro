---
import Layout from "../components/Layout.astro";
import ServicePage from "../components/ServicePage.astro";
import { SITE } from "../data/site";
import { getServiceBySlug } from "../lib/services";

const service = await getServiceBySlug('bois-de-chauffage');
if (!service) {
  throw new Error("Service 'bois-de-chauffage' introuvable");
}

const pageTitle = service.meta.title ?? `${service.title} â€” ${SITE.name}`;
const description = service.meta.description ?? service.excerpt;
const ogImage = service.meta.ogImage ?? service.heroImage?.src ?? service.gallery[0]?.src;
const jsonLd = service.jsonLd ? [service.jsonLd] : [];
---
<Layout title={pageTitle} description={description} ogImage={ogImage} jsonLd={jsonLd}>
  <ServicePage
    slug={service.slug}
    title={service.title}
    excerpt={service.excerpt}
    heroImage={service.heroImage}
    heroCtas={service.heroCtas}
    mainCard={service.mainCard}
    extraCards={service.extraCards}
    gallery={service.gallery}
  />
</Layout>
