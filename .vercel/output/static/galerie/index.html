<!DOCTYPE html><html lang="fr"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.jpg" type="image/jpeg"><title>Galerie Photo — A.R. Euro Forêt</title><meta name="description" content="Découvrez nos réalisations: élagage, abattage et travaux forestiers. Galerie photo."><link rel="canonical" href="https://www.areuroforet.fr/galerie/"><meta property="og:type" content="website"><meta property="og:title" content="Galerie Photo — A.R. Euro Forêt"><meta property="og:description" content="Découvrez nos réalisations: élagage, abattage et travaux forestiers. Galerie photo."><meta property="og:url" content="https://www.areuroforet.fr/galerie/"><meta property="og:image" content="/images/og-default.png"><script type="application/ld+json">{JSON.stringify(data)}</script><link rel="stylesheet" href="/_astro/bois-de-chauffage.D2PoyCh6.css"></head> <body class="min-h-screen flex flex-col"> <a href="#main" class="sr-only focus:not-sr-only focus:absolute focus:top-2 focus:left-2 bg-white border px-3 py-2 rounded">Aller au contenu</a> <header class="sticky top-0 z-50 bg-white/90 backdrop-blur border-b border-black/10"> <div class="container flex items-center justify-between h-16"> <a href="/" class="flex items-center gap-3"> <img src="/logo-ar-foret.jpeg" alt="Logo A.R. Euro Forêt" width="28" height="28" class="object-contain"> <span class="font-display font-bold text-lg">A.R. Euro Forêt</span> </a> <nav class="hidden md:flex items-center gap-6"> <a href="/" class="text-anth/80 hover:text-anth">Accueil</a><a href="/services" class="text-anth/80 hover:text-anth">Services</a><a href="/bois-de-chauffage" class="text-anth/80 hover:text-anth">Bois de chauffage</a><a href="/zone-d_intervention" class="text-anth/80 hover:text-anth">Zone d’intervention</a><a href="/galerie" class="text-anth/80 hover:text-anth">Galerie</a><a href="/contact" class="text-anth/80 hover:text-anth">Contact</a>  </nav> <div class="hidden md:flex items-center gap-3"> <a href="tel:+33600000000" class="btn btn-ghost">Appeler</a> <a href="/contact" class="btn btn-primary">Demander un devis</a> </div> <button id="mobile-menu-toggle" class="md:hidden p-2" type="button" aria-label="Menu" aria-controls="mobile-nav" aria-expanded="false"> <svg width="24" height="24" fill="none" stroke="currentColor"><path d="M4 6h16M4 12h16M4 18h16"></path></svg> </button> </div> <div id="mobile-nav" class="md:hidden hidden border-t border-black/10" aria-hidden="true"> <div class="container py-4 flex flex-col gap-4"> <a href="/" class="text-anth">Accueil</a><a href="/services" class="text-anth">Services</a><a href="/bois-de-chauffage" class="text-anth">Bois de chauffage</a><a href="/zone-d_intervention" class="text-anth">Zone d’intervention</a><a href="/galerie" class="text-anth">Galerie</a><a href="/contact" class="text-anth">Contact</a>  <div class="flex flex-col sm:flex-row gap-3"> <a href="tel:+33600000000" class="btn btn-ghost flex-1 w-full sm:w-auto">Appeler</a> <a href="/contact" class="btn btn-primary flex-1 w-full sm:w-auto">Demander un devis</a> </div> </div> </div> </header> <script>
  const toggle = document.getElementById('mobile-menu-toggle');
  const mobileNav = document.getElementById('mobile-nav');
  if (toggle && mobileNav) {
    const getLinks = () => Array.from(mobileNav.querySelectorAll('a'));

    const closeMenu = () => {
      mobileNav.classList.add('hidden');
      mobileNav.setAttribute('aria-hidden', 'true');
      toggle.setAttribute('aria-expanded', 'false');
      toggle.focus();
    };

    const openMenu = () => {
      mobileNav.classList.remove('hidden');
      mobileNav.setAttribute('aria-hidden', 'false');
      toggle.setAttribute('aria-expanded', 'true');
      const firstLink = mobileNav.querySelector('a');
      if (firstLink instanceof HTMLElement) {
        firstLink.focus();
      }
    };

    toggle.addEventListener('click', () => {
      const isExpanded = toggle.getAttribute('aria-expanded') === 'true';
      if (isExpanded) {
        closeMenu();
      } else {
        openMenu();
      }
    });

    getLinks().forEach((link) => {
      link.addEventListener('click', () => {
        closeMenu();
      });
    });

    mobileNav.addEventListener('keydown', (event) => {
      if (event.key === 'Escape') {
        closeMenu();
      }
    });

    window.addEventListener('resize', () => {
      if (window.innerWidth >= 768 && toggle.getAttribute('aria-expanded') === 'true') {
        closeMenu();
      }
    });
  }
</script> <main id="main" class="flex-1 pb-24 md:pb-0">  <section class="section section-alt" style="background-color: rgba(235,168,0,0.5);"> <div class="container py-10"> <h1 class="text-3xl md:text-4xl font-display font-bold text-center">Galerie Photo</h1> <p class="text-center text-neutral-600 mt-2">Sélection de réalisations — cliquez pour agrandir</p> <!-- Masonry fluide --> <div class="mt-8 columns-1 sm:columns-2 md:columns-3 lg:columns-4 gap-4 space-y-4 [column-fill:_balance]"> <div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="0" data-gallery-src="/images/IMG_9680.JPG" data-gallery-alt="Réalisation 1"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 1"> <img src="/images/IMG_9680.JPG" alt="Réalisation 1" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10 mt-8"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="1" data-gallery-src="/images/IMG_9681.JPG" data-gallery-alt="Réalisation 2"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 2"> <img src="/images/IMG_9681.JPG" alt="Réalisation 2" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="2" data-gallery-src="/images/IMG_9682.JPG" data-gallery-alt="Réalisation 3"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 3"> <img src="/images/IMG_9682.JPG" alt="Réalisation 3" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="3" data-gallery-src="/images/IMG_9683.JPG" data-gallery-alt="Réalisation 4"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 4"> <img src="/images/IMG_9683.JPG" alt="Réalisation 4" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10 mt-8"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="4" data-gallery-src="/images/IMG_9684.JPG" data-gallery-alt="Réalisation 5"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 5"> <img src="/images/IMG_9684.JPG" alt="Réalisation 5" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="5" data-gallery-src="/images/IMG_9685.JPG" data-gallery-alt="Réalisation 6"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 6"> <img src="/images/IMG_9685.JPG" alt="Réalisation 6" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="6" data-gallery-src="/images/IMG_9686.JPG" data-gallery-alt="Réalisation 7"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 7"> <img src="/images/IMG_9686.JPG" alt="Réalisation 7" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10 mt-8"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="7" data-gallery-src="/images/IMG_9687.JPG" data-gallery-alt="Réalisation 8"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 8"> <img src="/images/IMG_9687.JPG" alt="Réalisation 8" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="8" data-gallery-src="/images/IMG_9689.JPG" data-gallery-alt="Réalisation 9"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 9"> <img src="/images/IMG_9689.JPG" alt="Réalisation 9" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="9" data-gallery-src="/images/IMG_9690.JPG" data-gallery-alt="Réalisation 10"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 10"> <img src="/images/IMG_9690.JPG" alt="Réalisation 10" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10 mt-8"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="10" data-gallery-src="/images/IMG_9691.JPG" data-gallery-alt="Réalisation 11"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 11"> <img src="/images/IMG_9691.JPG" alt="Réalisation 11" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="11" data-gallery-src="/images/IMG_9692.JPG" data-gallery-alt="Réalisation 12"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 12"> <img src="/images/IMG_9692.JPG" alt="Réalisation 12" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="12" data-gallery-src="/images/IMG_9693.JPG" data-gallery-alt="Réalisation 13"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 13"> <img src="/images/IMG_9693.JPG" alt="Réalisation 13" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10 mt-8"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="13" data-gallery-src="/images/IMG_9695.JPG" data-gallery-alt="Réalisation 14"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 14"> <img src="/images/IMG_9695.JPG" alt="Réalisation 14" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="14" data-gallery-src="/images/IMG_9696.JPG" data-gallery-alt="Réalisation 15"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 15"> <img src="/images/IMG_9696.JPG" alt="Réalisation 15" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="15" data-gallery-src="/images/IMG_9697.JPG" data-gallery-alt="Réalisation 16"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 16"> <img src="/images/IMG_9697.JPG" alt="Réalisation 16" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10 mt-8"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="16" data-gallery-src="/images/IMG_9698.JPG" data-gallery-alt="Réalisation 17"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 17"> <img src="/images/IMG_9698.JPG" alt="Réalisation 17" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="17" data-gallery-src="/images/IMG_9699.JPG" data-gallery-alt="Réalisation 18"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 18"> <img src="/images/IMG_9699.JPG" alt="Réalisation 18" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="18" data-gallery-src="/images/IMG_9700.JPG" data-gallery-alt="Réalisation 19"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 19"> <img src="/images/IMG_9700.JPG" alt="Réalisation 19" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10 mt-8"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="19" data-gallery-src="/images/IMG_9701.JPG" data-gallery-alt="Réalisation 20"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 20"> <img src="/images/IMG_9701.JPG" alt="Réalisation 20" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="20" data-gallery-src="/images/IMG_9702.JPG" data-gallery-alt="Réalisation 21"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 21"> <img src="/images/IMG_9702.JPG" alt="Réalisation 21" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="21" data-gallery-src="/images/IMG_9703.JPG" data-gallery-alt="Réalisation 22"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 22"> <img src="/images/IMG_9703.JPG" alt="Réalisation 22" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10 mt-8"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="22" data-gallery-src="/images/IMG_9704.JPG" data-gallery-alt="Réalisation 23"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 23"> <img src="/images/IMG_9704.JPG" alt="Réalisation 23" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="23" data-gallery-src="/images/IMG_9705.JPG" data-gallery-alt="Réalisation 24"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 24"> <img src="/images/IMG_9705.JPG" alt="Réalisation 24" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="24" data-gallery-src="/images/IMG_9706.JPG" data-gallery-alt="Réalisation 25"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 25"> <img src="/images/IMG_9706.JPG" alt="Réalisation 25" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10 mt-8"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="25" data-gallery-src="/images/IMG_9707.JPG" data-gallery-alt="Réalisation 26"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 26"> <img src="/images/IMG_9707.JPG" alt="Réalisation 26" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="26" data-gallery-src="/images/IMG_9708.JPG" data-gallery-alt="Réalisation 27"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 27"> <img src="/images/IMG_9708.JPG" alt="Réalisation 27" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="27" data-gallery-src="/images/IMG_9709.JPG" data-gallery-alt="Réalisation 28"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 28"> <img src="/images/IMG_9709.JPG" alt="Réalisation 28" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10 mt-8"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="28" data-gallery-src="/images/IMG_9710.JPG" data-gallery-alt="Réalisation 29"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 29"> <img src="/images/IMG_9710.JPG" alt="Réalisation 29" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="29" data-gallery-src="/images/IMG_9711.JPG" data-gallery-alt="Réalisation 30"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 30"> <img src="/images/IMG_9711.JPG" alt="Réalisation 30" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="30" data-gallery-src="/images/IMG_9712.JPG" data-gallery-alt="Réalisation 31"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 31"> <img src="/images/IMG_9712.JPG" alt="Réalisation 31" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10 mt-8"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="31" data-gallery-src="/images/IMG_9714.JPG" data-gallery-alt="Réalisation 32"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 32"> <img src="/images/IMG_9714.JPG" alt="Réalisation 32" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="32" data-gallery-src="/images/IMG_9715.JPG" data-gallery-alt="Réalisation 33"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 33"> <img src="/images/IMG_9715.JPG" alt="Réalisation 33" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="33" data-gallery-src="/images/IMG_9716.JPG" data-gallery-alt="Réalisation 34"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 34"> <img src="/images/IMG_9716.JPG" alt="Réalisation 34" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10 mt-8"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="34" data-gallery-src="/images/IMG_9717.JPG" data-gallery-alt="Réalisation 35"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 35"> <img src="/images/IMG_9717.JPG" alt="Réalisation 35" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="35" data-gallery-src="/images/IMG_9718.JPG" data-gallery-alt="Réalisation 36"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 36"> <img src="/images/IMG_9718.JPG" alt="Réalisation 36" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="36" data-gallery-src="/images/IMG_9719.JPG" data-gallery-alt="Réalisation 37"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 37"> <img src="/images/IMG_9719.JPG" alt="Réalisation 37" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10 mt-8"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="37" data-gallery-src="/images/IMG_9720.JPG" data-gallery-alt="Réalisation 38"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 38"> <img src="/images/IMG_9720.JPG" alt="Réalisation 38" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div><div class="mb-4 break-inside-avoid overflow-hidden rounded-xl transition hover:scale-[1.02] hover:z-10"> <figure class="group overflow-hidden rounded-xl shadow-md transition-transform duration-200 hover:scale-[1.03] focus-within:scale-[1.03] cursor-pointer" data-gallery-item data-gallery-index="38" data-gallery-src="/images/IMG_9721.JPG" data-gallery-alt="Réalisation 39"> <button type="button" class="block w-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black/60" data-gallery-trigger aria-label="Agrandir l'image : Réalisation 39"> <img src="/images/IMG_9721.JPG" alt="Réalisation 39" loading="lazy" decoding="async" class="w-full h-auto object-cover transition-transform duration-200 group-hover:scale-[1.03]"> </button> </figure> <script type="module">
  const initGalleryLightbox = () => {
    const itemSelector = '[data-gallery-item]';
    const triggerSelector = '[data-gallery-trigger]';

    const collectItems = () => {
      return Array.from(document.querySelectorAll(itemSelector)).map((item, idx) => {
        item.setAttribute('data-gallery-index', String(idx));
        return item;
      });
    };

    const items = collectItems();
    if (!items.length) return;

    let overlay = document.querySelector('[data-gallery-overlay]');

    if (!overlay) {
      overlay = document.createElement('div');
      overlay.setAttribute('data-gallery-overlay', 'true');
      overlay.className =
        'fixed inset-0 z-50 hidden items-center justify-center bg-black/90 p-4';
      overlay.setAttribute('role', 'dialog');
      overlay.setAttribute('aria-modal', 'true');
      overlay.innerHTML = `
        <div class="relative mx-auto flex max-h-[90vh] max-w-[90vw] items-center justify-center">
          <button
            type="button"
            data-gallery-prev
            aria-label="Photo précédente"
            class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <div data-gallery-image-container class="relative flex flex-col items-center">
            <img data-gallery-active-image src="" alt="" class="max-h-[80vh] max-w-full rounded-xl shadow-2xl" />
            <p data-gallery-caption class="mt-3 text-center text-sm text-neutral-200"></p>
            <button
              type="button"
              data-gallery-close
              aria-label="Fermer la galerie"
              class="absolute -top-4 -right-4 flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-black/80 text-white transition hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <button
            type="button"
            data-gallery-next
            aria-label="Photo suivante"
            class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-black/70 p-2 sm:p-3 text-white transition hover:bg-black/85 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          >
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      `;
      document.body.appendChild(overlay);
    }

    const imageEl = overlay.querySelector('[data-gallery-active-image]');
    const captionEl = overlay.querySelector('[data-gallery-caption]');
    const closeBtn = overlay.querySelector('[data-gallery-close]');
    const prevBtn = overlay.querySelector('[data-gallery-prev]');
    const nextBtn = overlay.querySelector('[data-gallery-next]');

    if (!(imageEl instanceof HTMLImageElement) || !(closeBtn instanceof HTMLElement) || !(prevBtn instanceof HTMLElement) || !(nextBtn instanceof HTMLElement)) {
      return;
    }

    const focusableElements = () =>
      Array.from(overlay.querySelectorAll('button:not([disabled])'));

    let currentIndex = 0;
    let lastFocused = null;
    let previousBodyOverflow = '';

    const getItemData = (index) => {
      const item = items[index];
      if (!item) return null;
      return {
        src: item.getAttribute('data-gallery-src') ?? '',
        alt: item.getAttribute('data-gallery-alt') ?? '',
      };
    };

    const updateImage = () => {
      const data = getItemData(currentIndex);
      if (!data) return;

      imageEl.src = data.src;
      imageEl.alt = data.alt;

      if (captionEl instanceof HTMLElement) {
        captionEl.textContent = data.alt;
        captionEl.hidden = !data.alt;
      }

      const label = data.alt ? `Agrandissement : ${data.alt}` : 'Agrandissement de l’image';
      overlay?.setAttribute('aria-label', label);
    };

    const goTo = (index) => {
      const total = items.length;
      currentIndex = ((index % total) + total) % total;
      updateImage();
    };

    const onKeyDown = (event) => {
      if (!overlay || overlay.classList.contains('hidden')) return;

      switch (event.key) {
        case 'Escape':
          event.preventDefault();
          close();
          break;
        case 'ArrowRight':
          event.preventDefault();
          goTo(currentIndex + 1);
          break;
        case 'ArrowLeft':
          event.preventDefault();
          goTo(currentIndex - 1);
          break;
        case 'Tab': {
          const focusable = focusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          const active = document.activeElement instanceof HTMLElement ? document.activeElement : null;

          if (event.shiftKey) {
            if (active === first || !focusable.includes(active ?? first)) {
              event.preventDefault();
              last.focus();
            }
          } else if (active === last) {
            event.preventDefault();
            first.focus();
          }
          break;
        }
        default:
          break;
      }
    };

    const open = (index) => {
      if (!overlay) return;
      lastFocused = document.activeElement instanceof HTMLElement ? document.activeElement : null;
      previousBodyOverflow = document.body.style.overflow;
      document.body.style.overflow = 'hidden';

      goTo(index);

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.dataset.open = 'true';

      const focusable = focusableElements();
      focusable[0]?.focus();

      document.addEventListener('keydown', onKeyDown);
    };

    const close = () => {
      if (!overlay) return;
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.dataset.open = 'false';
      document.body.style.overflow = previousBodyOverflow;
      document.removeEventListener('keydown', onKeyDown);

      if (lastFocused) {
        lastFocused.focus();
      }
    };

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        close();
      }
    });

    closeBtn.addEventListener('click', (event) => {
      event.preventDefault();
      close();
    });

    prevBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex - 1);
    });

    nextBtn.addEventListener('click', (event) => {
      event.preventDefault();
      goTo(currentIndex + 1);
    });

    items.forEach((item, idx) => {
      const trigger = item.querySelector(triggerSelector);
      if (!(trigger instanceof HTMLElement)) return;
      if (trigger.dataset.galleryBound === 'true') return;

      trigger.dataset.galleryBound = 'true';

      trigger.addEventListener('click', (event) => {
        event.preventDefault();
        open(idx);
      });

      trigger.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          open(idx);
        }
      });
    });
  };

  const FLAG = '__galleryLightboxInitialized';

  if (typeof window !== 'undefined' && !window.__galleryLightboxInitialized) {
    window.__galleryLightboxInitialized = true;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGalleryLightbox, { once: true });
    } else {
      initGalleryLightbox();
    }
  }
</script> </div> </div> </div> </section>  </main> <footer class="mt-0 md:mt-0 border-t border-black/10"> <div class="container grid md:grid-cols-3 gap-8 py-12"> <div> <h3 class="font-display font-semibold mb-3">A.R. Euro Forêt</h3> <p class="small text-anth/80">Travaux forestiers, élagage, abattage et entretien d'espaces verts.</p> <p class="small mt-3"><strong>SIRET</strong> : 884 585 621 00011</p> <p class="small"><strong>Activité</strong> : Travaux forestiers et d’espaces verts</p> </div> <div> <h4 class="font-semibold mb-3">Contact</h4> <ul class="space-y-2"> <li><a class="text-forest" href="tel:+33600000000">+33 6 00 00 00 00</a></li> <li><a class="text-forest" href="mailto:contact@areuroforet.fr">contact@areuroforet.fr</a></li> <li><a class="text-forest" href="https://www.pagesjaunes.fr/pros/60923234">Mappy</a></li> <li><a class="text-forest" href="https://www.travaux.com/professionnel/a-r-euro-foret">Travaux.com</a></li> </ul> </div> <div> <h4 class="font-semibold mb-3">Liens</h4> <ul class="space-y-2"> <li><a class="text-anth/80 hover:text-anth" href="/mentions-legales">Mentions légales</a></li> <li><a class="text-anth/80 hover:text-anth" href="/politique-de-confidentialite">Politique de confidentialité</a></li>  </ul> </div> </div> <div class="py-6 bg-beige/60"> <div class="container small text-anth/70 flex flex-col md:flex-row gap-3 md:items-center md:justify-between"> <span>© 2025 A.R. Euro Forêt. Tous droits réservés.</span> <span>Site propulsé par Astro.</span> </div> </div> </footer> <div class="phone-bar"> <div class="container flex gap-3"> <a href="tel:+33600000000" class="call rounded-xl flex items-center justify-center gap-2 flex-1"> <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"> <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.8 19.8 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6A19.8 19.8 0 0 1 2.1 4.18 2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.12.9.3 1.77.57 2.61a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.47-1.15a2 2 0 0 1 2.11-.45c.84.27 1.71.45 2.61.57A2 2 0 0 1 22 16.92z"></path> </svg>
Appeler
</a> <a href="/contact" class="quote text-center flex items-center justify-center gap-2 flex-1"> <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"> <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path> </svg>
Devis
</a> </div> </div> <script>
    const els=document.querySelectorAll('[data-reveal]');
    const io=new IntersectionObserver((entries)=>{entries.forEach(e=>{if(e.isIntersecting){e.target.classList.add('is-in');io.unobserve(e.target);}})},{threshold:.15});
    els.forEach(el=>io.observe(el));
  </script> </body> </html>