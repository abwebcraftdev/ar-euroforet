# Configuration Decap CMS pour Vercel (avec GitHub backend)
# Pour utiliser cette configuration :
# 1. Créez une OAuth App GitHub : https://github.com/settings/developers
# 2. Définissez Authorization callback URL : https://votre-site.vercel.app/api/auth
# 3. Copiez cette configuration dans config.yml et remplissez repo, base_url, auth_scope

backend:
  name: github
  repo: username/your-repo-name  # Remplacez par votre repo GitHub
  branch: main
  base_url: https://votre-site.vercel.app  # Remplacez par votre URL Vercel
  auth_scope: repo  # Permissions GitHub nécessaires

# Pour le développement local, gardez local_backend: true
local_backend: true

media_folder: "public/uploads"
public_folder: "/uploads"

collections:
  - name: "pages"
    label: "Pages"
    files:
      - label: "Accueil"
        name: "home"
        file: "src/content/pages/home.md"
        fields:
          - { label: "Titre (hero)", name: "titleHero", widget: "string" }
          - { label: "Intro", name: "intro", widget: "text" }
          - { label: "Bullets", name: "bullets", widget: "list", field: {label: "Point", name: "point", widget: "string"} }
  - name: "services"
    label: "Services"
    folder: "src/content/services"
    create: true
    slug: "{{slug}}"
    fields:
      - { label: "Titre", name: "title", widget: "string" }
      - { label: "Extrait (carte)", name: "excerpt", widget: "text", required: false }
      - { label: "Mise en avant (Accueil)", name: "featured", widget: "boolean", default: false }
      - { label: "Ordre", name: "order", widget: "number", required: false }
      - label: "Type de bouton"
        name: "ctaType"
        widget: "select"
        options:
          - { label: "Voir le service", value: "page" }
          - { label: "Appeler", value: "call" }
        required: false
      - { label: "Texte du bouton", name: "ctaLabel", widget: "string", required: false, hint: "Laisser vide pour utiliser le libellé par défaut." }
      - { label: "Publié", name: "published", widget: "boolean", default: true }
      - { label: "Contenu", name: "body", widget: "markdown" }
